#!/bin/bash

cat <<EOF

devbox-Setup

EOF

devbox_setup_docker_login() {
  echo "[1/3] Melde dich mit deinem GitLab-Konto an, damit du das devbox-Image"
  echo "      herunterladen kannst:"
  devbox_docker login "$devbox_docker_registry"
  echo
}

devbox_setup_projects_dir() {
  echo "[2/3] Gib den Ordner ein, in dem deine Projekte liegen:"
  echo
  echo -n "      devbox_projects_dir="
  read -r devbox_projects_dir
  echo
}

devbox_setup_ssh_dir() {
  echo "[2/3] Gib den Ordner ein, in dem deine SSH-SchlÃ¼ssel liegen:"
  echo
  echo -n "      devbox_ssh_dir="
  read -r devbox_ssh_dir
  echo
}

devbox_setup_docker_login

devbox_setup_projects_dir
devbox_setup_ssh_dir

echo ".env-Datei wird geschrieben..."
cat > "$devbox_repo_dir"/.env <<EOF
devbox_projects_dir='$devbox_projects_dir'
devbox_ssh_dir='$devbox_ssh_dir'
EOF
echo
echo "Fertig! Du kannst die devbox jetzt mit diesen Befehlen starten:"
echo "$ bin/devbox pull"
echo "$ bin/devbox run"
echo
